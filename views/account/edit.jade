extends ../layout

block extra_head
  script.
    require(
      ['angular', 'controllers/edit', 'jquery', 'bootstrap'],
      function (angular, EditController, $) {
        angular.module('voxboneApp', [])
          .controller('EditController', EditController);
        angular.bootstrap(document, ['voxboneApp']);
      });

block content
  .main.registerPage
    .body(ng-controller="EditController" ng-init="initData={account: #{JSON.stringify(currentUser)}}")
      .container
        .row
          .col-sm-12
            h1 Edit your profile

            #alert.alert(style="display: none;")

            #form_container
              p You can change your personal information and settings here.

              .formWrap
                form#editProfile(name="editProfile" novalidate)
                  .form-group
                    label.control-label Name
                    input.form-control(type="text" id="first_name" name="first_name" ng-model="account.first_name" required)
                    .error-label(ng-show="editProfile.$submitted || editProfile.name.$touched")
                      div.ng-hide(ng-show="editProfile.name.$error.required") Please enter your name
                  .form-group
                    label.control-label Company
                    input.form-control(type="text" id="company" name="company" ng-model="account.company")
                  .form-group
                    label.control-label Email address
                    input.form-control(type="text" ng-model="account.email" disabled)
                  button.btn.btn-default#save(ng-disabled="editProfile.$invalid" ng-click="saveProfile(account)") Save Profile
